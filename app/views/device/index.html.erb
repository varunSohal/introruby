<h1>Devices</h1>

<div class="mt-4">
<%= form_tag(devices_path, method: :get, class: "form-inline") do %>
  <div class="form-group mb-2">
    <%= text_field_tag :search, params[:search], class: "form-control", placeholder: "Search devices..." %>
  </div>
  <div class="form-group mb-2">
    <%= select_tag :category, options_for_select(@category_options, params[:category]), class: "form-control", name: "category" %>
  </div>
  <%= submit_tag "Search", class: "btn btn-primary mb-2" %>
<% end %>

</div>

<% if @results.present? %>
  <div class="table-responsive">
    <table class="table table-striped">
      <thead class="thead-light">
        <tr>
          <th>Brand</th>
          <th>Model</th>
          <th>Price</th>
          <th>Image</th>
        </tr>
      </thead>
      <tbody>
        <% @results.each do |result| %>
          <tr>
            <td><%= link_to result.brand, device_path(result), class: "text-decoration-none" %></td>
            <td><%= result.model %></td>
            <td><%= result.price %></td>
            <td><%= result.image %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
<% else %>
  <p class="text-center">No Results Found</p>
<% end %>

<%= paginate @results %>
